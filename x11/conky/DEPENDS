depends glib2 &&

optional_depends libx11 \
                 "--enable-x11" \
                 "--disable-x11" \
                 "for X11 support" &&

if is_depends_enabled $SPELL libx11; then
  optional_depends libxdamage \
                   "--enable-xdamage" \
                   "--disable-xdamage" \
                   "for Xdamage support" &&

  optional_depends libxext \
                   "--enable-double-buffer" \
                   "--disable-double-buffer" \
                   "for Xdbe double-buffering support" &&

  optional_depends libxft \
                   "--enable-xft" \
                   "--disable-xft" \
                   "for Xft support"
fi &&

optional_depends curl \
                 "--enable-curl" \
                 "--disable-curl" \
                 "for curl support" &&

optional_depends xmms2 \
                 "--enable-xmms2" \
                 "--disable-xmms2" \
                 "for XMMS2 support" &&

optional_depends bmpx \
                 "--enable-bmpx" \
                 "--disable-bmpx" \
                 "for BMPx support" &&

optional_depends audacious \
                 "--enable-audacious" \
                 "--disable-audacious" \
                 "for Audacious support" &&

optional_depends imlib2 \
                 "--enable-imlib2" \
                 "--disable-imlib2" \
                 "for Imlib2 support" &&

optional_depends alsa-lib \
                 "--enable-alsa" \
                 "--disable-alsa" \
                 "for ALSA support" &&

optional_depends LUA \
                 "--enable-lua" \
                 "--disable-lua" \
                 "for Lua scripting support" &&

config_query_option CONKY_OPTS "Enable Lua Imlib2 bindings for Conky?" n \
                               "--enable-lua-imlib2" \
                               "--disable-lua-imlib2" &&

if ! is_depends_enabled ${SPELL} imlib2 && list_find "${CONKY_OPTS}" "--enable-lua-imlib2"; then
  depends imlib2
fi &&

optional_depends cairo \
                 "--enable-lua-cairo" \
                 "--disable-lua-cairo" \
                 "for Lua Cairo bindings for Conky" &&

if list_find "${CONKY_OPTS}" "--enable-lua-imlib2" || is_depends_enabled ${SPELL} cairo; then
  depends tolua++
fi &&

optional_depends wireless_tools \
                 "--enable-wlan" \
                 "--disable-wlan" \
                 "for Wireless support" &&

optional_depends ncurses \
                 "--enable-ncurses" \
                 "--disable-ncurses" \
                 "for TUI support"
